<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FinalProject</title>
    
</head>
<body>
  <h1>More people</h1>
  <!-- Creates the FORM -->
  <form method="post">
    <p>
        <label for="firstName">First Name:</label>
        <input type="text" name="firstname" id="firstName">
    </p>
    <p>
        <label for="lastName">Last Name:</label>
        <input type="text" name="lastname" id="lastName">
    </p>
    <p>
        <label for="emailAddress">Email Address:</label>
        <input type="text" name="email" id="emailAddress">
    </p>
    <input type="submit" value="Submit" onclick="addtoDB()">
</form>

  <p id = 'submitted'></p>

  <script>
    function addtoDB() {
      var xhttp;
      xhttp = new XMLHttpRequest();
      // creates AJAX connection
      xhttp.onreadystatechange = function() {
        if (xhttp.readyState == 4 && xhttp.status == 200) {
            document.getElementById("submitted").innerHTML = "form submitted";
        }
      };
      // JS DOM to grab input elements by ID
 var first_name = document.getElementById('firstName').value;
   var last_name = document.getElementById('lastName').value;
   var email = document.getElementById('emailAddress').value;
   var queryString = "?firstname=" + first_name ;
   
   queryString +=  "&lastname=" + last_name + "&email=" + email;
   console.log(queryString);
   xhttp.open("GET", "insert.php" + queryString, true);
   xhttp.send(null); 
    }
  </script>

</body>
</html>